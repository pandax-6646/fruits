(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c818fa2"],{"159b":function(t,e,n){var o=n("da84"),i=n("fdbc"),s=n("17c2"),a=n("9112");for(var r in i){var c=o[r],u=c&&c.prototype;if(u&&u.forEach!==s)try{a(u,"forEach",s)}catch(f){u.forEach=s}}},"17c2":function(t,e,n){"use strict";var o=n("b727").forEach,i=n("a640"),s=i("forEach");t.exports=s?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"443f":function(t,e,n){"use strict";n("829a")},4624:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={methods:{showLoading:function(){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0})}}}},"65f0":function(t,e,n){var o=n("861d"),i=n("e8b5"),s=n("b622"),a=s("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?o(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"829a":function(t,e,n){},9195:function(t,e,n){t.exports=n.p+"img/login-img.adec77d3.png"},a640:function(t,e,n){"use strict";var o=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,n){var o=n("0366"),i=n("44ad"),s=n("7b0b"),a=n("50c4"),r=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,f=4==t,l=6==t,h=7==t,m=5==t||l;return function(d,p,v,g){for(var b,C,$=s(d),y=i($),w=o(p,v,3),x=a(y.length),E=0,_=g||r,k=e?_(d,x):n||h?_(d,0):void 0;x>E;E++)if((m||E in y)&&(b=y[E],C=w(b,E,$),t))if(e)k[E]=C;else if(C)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:c.call(k,b)}else switch(t){case 4:return!1;case 7:c.call(k,b)}return l?-1:u||f?f:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},d9c9:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-login-container bc-fff"},[t._m(0),t._m(1),n("div",{staticClass:"login"},[n("div",{staticClass:"user-name flex jc-sb ai-c mt-15 pb-5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{id:"phone",type:"number",placeholder:"手机号",autofocus:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),n("span",{staticClass:"fs-13 fc-999 get-phone-code",on:{click:t.getSmsCode}},[t._v(" "+t._s(t.time))])]),n("div",{staticClass:"password mt-20 pb-5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.smsCode,expression:"smsCode"}],staticClass:"code",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.smsCode},on:{input:function(e){e.target.composing||(t.smsCode=e.target.value)}}})]),n("input",{staticClass:"fs-14 submit",attrs:{type:"submit",value:"短信登录"},on:{click:t.login}})])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",[t._v("注册")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"logo-img"},[o("img",{attrs:{src:n("9195"),alt:""}})])}],s=(n("159b"),n("4624")),a=n("365c"),r={name:"login",mixins:[s["a"]],data:function(){return{phone:"18720514724",loginPhone:"",smsCode:"",time:"获取验证码",flag:!0,timer:null}},methods:{getSmsCode:function(){var t=this;try{if(!this.flag)return;this.selfDes();var e=/^(13[0-9]|14[57]|15[0-9]|166|17[3678]|18[0-9]|19[0-9])[0-9]{8}$/;e.test(this.phone)?(this.flag=!1,a["e"].getSmsCode({phone:this.phone}).then((function(e){t.smsCode=e.smsCode,t.loginPhone=t.phone})).catch((function(e){return t.$toast.fail(e)}))):(this.$toast.fail("请输入正确的号码"),clearInterval(this.timer),this.time="获取验证码")}catch(n){this.$toast.fail(n)}},selfDes:function(){var t=this;this.time=59,this.timer=setInterval((function(){0==t.time?(t.flag=!0,clearTimeout(t.timer),t.time="重新获取"):t.time--}),1e3)},login:function(){var t=this;this.loginPhone==this.phone?(this.showLoading(),a["e"].login({phone:this.loginPhone,smsCode:this.smsCode}).then((function(e){t.$toast.success(e.msg),t.$store.commit("updataLoginState",!0),t.$store.commit("updataPhone",t.loginPhone),t.$store.commit("updataToken",e.result.token);var n=0;a["b"].getCartGoodsList().then((function(e){e.list.forEach((function(t){return n+=t.buyNum})),t.$store.commit("updataGoodsListNum",n)})).catch((function(e){return t.$toast.fail(e)})),t.$router.go(-1)})).catch((function(e){t.$toast.fail("小主，登录失败了呢")}))):this.$toast.fail("手机号码不一致")}}},c=r,u=(n("443f"),n("2877")),f=Object(u["a"])(c,o,i,!1,null,"42d09b6b",null);e["default"]=f.exports},e8b5:function(t,e,n){var o=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-2c818fa2.2a8ccc23.js.map